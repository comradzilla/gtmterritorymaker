{
  "version": 3,
  "sources": ["../../d3-queue/build/version.js", "../../d3-queue/src/array.js", "../../d3-queue/src/queue.js", "../../d3-queue/index.js", "../../leaflet-image/index.js"],
  "sourcesContent": ["export var version = \"2.0.3\";\n", "export var slice = [].slice;\n", "import {slice} from \"./array\";\n\nvar noabort = {};\n\nfunction Queue(size) {\n  if (!(size >= 1)) throw new Error;\n  this._size = size;\n  this._call =\n  this._error = null;\n  this._tasks = [];\n  this._data = [];\n  this._waiting =\n  this._active =\n  this._ended =\n  this._start = 0; // inside a synchronous task callback?\n}\n\nQueue.prototype = queue.prototype = {\n  constructor: Queue,\n  defer: function(callback) {\n    if (typeof callback !== \"function\" || this._call) throw new Error;\n    if (this._error != null) return this;\n    var t = slice.call(arguments, 1);\n    t.push(callback);\n    ++this._waiting, this._tasks.push(t);\n    poke(this);\n    return this;\n  },\n  abort: function() {\n    if (this._error == null) abort(this, new Error(\"abort\"));\n    return this;\n  },\n  await: function(callback) {\n    if (typeof callback !== \"function\" || this._call) throw new Error;\n    this._call = function(error, results) { callback.apply(null, [error].concat(results)); };\n    maybeNotify(this);\n    return this;\n  },\n  awaitAll: function(callback) {\n    if (typeof callback !== \"function\" || this._call) throw new Error;\n    this._call = callback;\n    maybeNotify(this);\n    return this;\n  }\n};\n\nfunction poke(q) {\n  if (!q._start) try { start(q); } // let the current task complete\n  catch (e) { if (q._tasks[q._ended + q._active - 1]) abort(q, e); } // task errored synchronously\n}\n\nfunction start(q) {\n  while (q._start = q._waiting && q._active < q._size) {\n    var i = q._ended + q._active,\n        t = q._tasks[i],\n        j = t.length - 1,\n        c = t[j];\n    t[j] = end(q, i);\n    --q._waiting, ++q._active;\n    t = c.apply(null, t);\n    if (!q._tasks[i]) continue; // task finished synchronously\n    q._tasks[i] = t || noabort;\n  }\n}\n\nfunction end(q, i) {\n  return function(e, r) {\n    if (!q._tasks[i]) return; // ignore multiple callbacks\n    --q._active, ++q._ended;\n    q._tasks[i] = null;\n    if (q._error != null) return; // ignore secondary errors\n    if (e != null) {\n      abort(q, e);\n    } else {\n      q._data[i] = r;\n      if (q._waiting) poke(q);\n      else maybeNotify(q);\n    }\n  };\n}\n\nfunction abort(q, e) {\n  var i = q._tasks.length, t;\n  q._error = e; // ignore active callbacks\n  q._data = undefined; // allow gc\n  q._waiting = NaN; // prevent starting\n\n  while (--i >= 0) {\n    if (t = q._tasks[i]) {\n      q._tasks[i] = null;\n      if (t.abort) try { t.abort(); }\n      catch (e) { /* ignore */ }\n    }\n  }\n\n  q._active = NaN; // allow notification\n  maybeNotify(q);\n}\n\nfunction maybeNotify(q) {\n  if (!q._active && q._call) q._call(q._error, q._data);\n}\n\nexport default function queue(concurrency) {\n  return new Queue(arguments.length ? +concurrency : Infinity);\n}\n", "export {version} from \"./build/version\";\nexport {default as queue} from \"./src/queue\";\n", "/* global L */\n\nvar queue = require('d3-queue').queue;\n\nvar cacheBusterDate = +new Date();\n\n// leaflet-image\nmodule.exports = function leafletImage(map, callback) {\n\n    var hasMapbox = !!L.mapbox;\n\n    var dimensions = map.getSize(),\n        layerQueue = new queue(1);\n\n    var canvas = document.createElement('canvas');\n    canvas.width = dimensions.x;\n    canvas.height = dimensions.y;\n    var ctx = canvas.getContext('2d');\n\n    // dummy canvas image when loadTile get 404 error\n    // and layer don't have errorTileUrl\n    var dummycanvas = document.createElement('canvas');\n    dummycanvas.width = 1;\n    dummycanvas.height = 1;\n    var dummyctx = dummycanvas.getContext('2d');\n    dummyctx.fillStyle = 'rgba(0,0,0,0)';\n    dummyctx.fillRect(0, 0, 1, 1);\n\n    // layers are drawn in the same order as they are composed in the DOM:\n    // tiles, paths, and then markers\n    map.eachLayer(drawTileLayer);\n    map.eachLayer(drawEsriDynamicLayer);\n    \n    if (map._pathRoot) {\n        layerQueue.defer(handlePathRoot, map._pathRoot);\n    } else if (map._panes) {\n        var firstCanvas = map._panes.overlayPane.getElementsByTagName('canvas').item(0);\n        if (firstCanvas) { layerQueue.defer(handlePathRoot, firstCanvas); }\n    }\n    map.eachLayer(drawMarkerLayer);\n    layerQueue.awaitAll(layersDone);\n\n    function drawTileLayer(l) {\n        if (l instanceof L.TileLayer) layerQueue.defer(handleTileLayer, l);\n        else if (l._heat) layerQueue.defer(handlePathRoot, l._canvas);\n    }\n\n    function drawMarkerLayer(l) {\n        if (l instanceof L.Marker && l.options.icon instanceof L.Icon) {\n            layerQueue.defer(handleMarkerLayer, l);\n        }\n    }\n    \n    function drawEsriDynamicLayer(l) {\n        if (!L.esri) return;\n       \n        if (l instanceof L.esri.DynamicMapLayer) {                       \n            layerQueue.defer(handleEsriDymamicLayer, l);\n        }\n    }\n\n    function done() {\n        callback(null, canvas);\n    }\n\n    function layersDone(err, layers) {\n        if (err) throw err;\n        layers.forEach(function (layer) {\n            if (layer && layer.canvas) {\n                ctx.drawImage(layer.canvas, 0, 0);\n            }\n        });\n        done();\n    }\n\n    function handleTileLayer(layer, callback) {\n        // `L.TileLayer.Canvas` was removed in leaflet 1.0\n        var isCanvasLayer = (L.TileLayer.Canvas && layer instanceof L.TileLayer.Canvas),\n            canvas = document.createElement('canvas');\n\n        canvas.width = dimensions.x;\n        canvas.height = dimensions.y;\n\n        var ctx = canvas.getContext('2d'),\n            bounds = map.getPixelBounds(),\n            zoom = map.getZoom(),\n            tileSize = layer.options.tileSize;\n\n        if (zoom > layer.options.maxZoom ||\n            zoom < layer.options.minZoom ||\n            // mapbox.tileLayer\n            (hasMapbox &&\n                layer instanceof L.mapbox.tileLayer && !layer.options.tiles)) {\n            return callback();\n        }\n\n        var tileBounds = L.bounds(\n            bounds.min.divideBy(tileSize)._floor(),\n            bounds.max.divideBy(tileSize)._floor()),\n            tiles = [],\n            j, i,\n            tileQueue = new queue(1);\n\n        for (j = tileBounds.min.y; j <= tileBounds.max.y; j++) {\n            for (i = tileBounds.min.x; i <= tileBounds.max.x; i++) {\n                tiles.push(new L.Point(i, j));\n            }\n        }\n\n        tiles.forEach(function (tilePoint) {\n            var originalTilePoint = tilePoint.clone();\n\n            if (layer._adjustTilePoint) {\n                layer._adjustTilePoint(tilePoint);\n            }\n\n            var tilePos = originalTilePoint\n                .scaleBy(new L.Point(tileSize, tileSize))\n                .subtract(bounds.min);\n\n            if (tilePoint.y >= 0) {\n                if (isCanvasLayer) {\n                    var tile = layer._tiles[tilePoint.x + ':' + tilePoint.y];\n                    tileQueue.defer(canvasTile, tile, tilePos, tileSize);\n                } else {\n                    var url = addCacheString(layer.getTileUrl(tilePoint));\n                    tileQueue.defer(loadTile, url, tilePos, tileSize);\n                }\n            }\n        });\n\n        tileQueue.awaitAll(tileQueueFinish);\n\n        function canvasTile(tile, tilePos, tileSize, callback) {\n            callback(null, {\n                img: tile,\n                pos: tilePos,\n                size: tileSize\n            });\n        }\n\n        function loadTile(url, tilePos, tileSize, callback) {\n            var im = new Image();\n            im.crossOrigin = '';\n            im.onload = function () {\n                callback(null, {\n                    img: this,\n                    pos: tilePos,\n                    size: tileSize\n                });\n            };\n            im.onerror = function (e) {\n                // use canvas instead of errorTileUrl if errorTileUrl get 404\n                if (layer.options.errorTileUrl != '' && e.target.errorCheck === undefined) {\n                    e.target.errorCheck = true;\n                    e.target.src = layer.options.errorTileUrl;\n                } else {\n                    callback(null, {\n                        img: dummycanvas,\n                        pos: tilePos,\n                        size: tileSize\n                    });\n                }\n            };\n            im.src = url;\n        }\n\n        function tileQueueFinish(err, data) {\n            data.forEach(drawTile);\n            callback(null, { canvas: canvas });\n        }\n\n        function drawTile(d) {\n            ctx.drawImage(d.img, Math.floor(d.pos.x), Math.floor(d.pos.y),\n                d.size, d.size);\n        }\n    }\n\n    function handlePathRoot(root, callback) {\n        var bounds = map.getPixelBounds(),\n            origin = map.getPixelOrigin(),\n            canvas = document.createElement('canvas');\n        canvas.width = dimensions.x;\n        canvas.height = dimensions.y;\n        var ctx = canvas.getContext('2d');\n        var pos = L.DomUtil.getPosition(root).subtract(bounds.min).add(origin);\n        try {\n            ctx.drawImage(root, pos.x, pos.y, canvas.width - (pos.x * 2), canvas.height - (pos.y * 2));\n            callback(null, {\n                canvas: canvas\n            });\n        } catch(e) {\n            console.error('Element could not be drawn on canvas', root); // eslint-disable-line no-console\n        }\n    }\n\n    function handleMarkerLayer(marker, callback) {\n        var canvas = document.createElement('canvas'),\n            ctx = canvas.getContext('2d'),\n            pixelBounds = map.getPixelBounds(),\n            minPoint = new L.Point(pixelBounds.min.x, pixelBounds.min.y),\n            pixelPoint = map.project(marker.getLatLng()),\n            isBase64 = /^data\\:/.test(marker._icon.src),\n            url = isBase64 ? marker._icon.src : addCacheString(marker._icon.src),\n            im = new Image(),\n            options = marker.options.icon.options,\n            size = options.iconSize,\n            pos = pixelPoint.subtract(minPoint),\n            anchor = L.point(options.iconAnchor || size && size.divideBy(2, true));\n\n        if (size instanceof L.Point) size = [size.x, size.y];\n\n        var x = Math.round(pos.x - size[0] + anchor.x),\n            y = Math.round(pos.y - anchor.y);\n\n        canvas.width = dimensions.x;\n        canvas.height = dimensions.y;\n        im.crossOrigin = '';\n\n        im.onload = function () {\n            ctx.drawImage(this, x, y, size[0], size[1]);\n            callback(null, {\n                canvas: canvas\n            });\n        };\n\n        im.src = url;\n\n        if (isBase64) im.onload();\n    }\n    \n    function handleEsriDymamicLayer(dynamicLayer, callback) {\n        var canvas = document.createElement('canvas');\n        canvas.width = dimensions.x;\n        canvas.height = dimensions.y;\n    \n        var ctx = canvas.getContext('2d');\n    \n        var im = new Image();\n        im.crossOrigin = '';\n        im.src = addCacheString(dynamicLayer._currentImage._image.src);\n    \n        im.onload = function() {\n            ctx.drawImage(im, 0, 0);\n            callback(null, {\n                canvas: canvas\n            });\n        };\n    }\n\n    function addCacheString(url) {\n        // If it's a data URL we don't want to touch this.\n        if (isDataURL(url) || url.indexOf('mapbox.com/styles/v1') !== -1) {\n            return url;\n        }\n        return url + ((url.match(/\\?/)) ? '&' : '?') + 'cache=' + cacheBusterDate;\n    }\n\n    function isDataURL(url) {\n        var dataURLRegex = /^\\s*data:([a-z]+\\/[a-z]+(;[a-z\\-]+\\=[a-z\\-]+)?)?(;base64)?,[a-z0-9\\!\\$\\&\\'\\,\\(\\)\\*\\+\\,\\;\\=\\-\\.\\_\\~\\:\\@\\/\\?\\%\\s]*\\s*$/i;\n        return !!url.match(dataURLRegex);\n    }\n\n};\n"],
  "mappings": "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",
  "names": ["e", "queue", "callback", "canvas", "ctx", "tileSize"]
}
